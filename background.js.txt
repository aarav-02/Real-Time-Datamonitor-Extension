let data = {};

// Function to fetch real-time data
async function fetchData() {
  try {
    const response = await fetch('https://api.example.com/data'); // Replace with your real-time data source
    if (!response.ok) {
      throw new Error('Network response was not ok ' + response.statusText);
    }
    data = await response.json();
    console.log('Data fetched:', data);
    // Broadcast the fetched data to all open extension pages
    chrome.runtime.sendMessage({ type: 'dataUpdate', data: data });
  } catch (error) {
    console.error('Error fetching data:', error);
  }
}

// Fetch data every minute
setInterval(fetchData, 60000);

// Fetch data when the extension is first loaded
fetchData();
